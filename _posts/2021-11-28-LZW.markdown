---
layout: post
title: LZWç®—æ³•
---

```c++
#include <iostream>
#include <vector>
#include <map>
#include <string>
#include <algorithm>
using namespace std;

int main()
{

	string iniSequence;
	cin >> iniSequence;
	string waitToOut = "";
	vector<string> senderASCII(256, "");

	int length = iniSequence.size();

	vector<int> LZWout;
	senderASCII[97] = "a";
	senderASCII[98] = "b";
	senderASCII[99] = "c";
	senderASCII[100] = "d";
	senderASCII[255] = "zEND";
	cout << "----------------------------å‘é€ç«¯--------------------------" << endl;
	int i = 0;
	string temp = "";
	while (i != length)
	{
		temp = waitToOut + iniSequence[i]; // S+c
		vector<string>::iterator tempPointer = find(senderASCII.begin(), senderASCII.end(), temp);
		if (tempPointer != senderASCII.end()) //åœ¨å­—å…¸ä¸­
		{
			waitToOut = temp;
		}
		else
		{
			vector<string>::iterator sPointer = find(senderASCII.begin(), senderASCII.end(), waitToOut);
			int sASCII = distance(senderASCII.begin(), sPointer);
			LZWout.push_back(sASCII);
			cout << sASCII << endl;     //å‘é€Sçš„ç¼–ç 
			senderASCII.push_back(temp);   // S+cåŠ å…¥å­—ç¬¦ä¸²è¡¨
			waitToOut = iniSequence[i]; // S=c
		}
		i++;
	}
	vector<string>::iterator leftPointer = find(senderASCII.begin(), senderASCII.end(), waitToOut);
	int leftS = distance(senderASCII.begin(), leftPointer);
	LZWout.push_back(leftS);
	cout << leftS << endl;     //å‘é€Sçš„ç¼–ç 
	cout << "----------------------------æŽ¥æ”¶ç«¯--------------------------" << endl;
	//æŽ¥æ”¶ç«¯
	vector<string> receiveASCII(256, "");
	receiveASCII[97] = "a";
	receiveASCII[98] = "b";
	receiveASCII[99] = "c";
	receiveASCII[100] = "d";
	receiveASCII[255] = "zEND";

	vector<string> LZWdecode;
	LZWdecode.push_back(receiveASCII[LZWout[0]]);
	cout << receiveASCII[LZWout[0]] << endl;
	int j = 1;
	int len = LZWout.size();
	int receiveASCIILength = receiveASCII.size();

	char pastFirstWord = receiveASCII[LZWout[0]][0];
	string pastWord = receiveASCII[LZWout[0]];
	char currentFirstWord;
	string currentWord;
	while (j != len)
	{
		if (LZWout[j] < receiveASCIILength)//codeåœ¨å­—å…¸ä¸­
		{
			LZWdecode.push_back(receiveASCII[LZWout[j]]);
			cout << receiveASCII[LZWout[j]] << endl;
			currentFirstWord = receiveASCII[LZWout[j]][0];
			currentWord = receiveASCII[LZWout[j]];
		}
		else
		{
			currentWord = pastWord + pastFirstWord;
			currentFirstWord = currentWord[0];
			LZWdecode.push_back(currentWord);
			cout << currentWord << endl;
		}
		receiveASCII.push_back(pastWord+currentFirstWord);

		pastWord = currentWord;
		pastFirstWord = currentFirstWord;
		j++;
		receiveASCIILength = receiveASCII.size();
	}



	system("pause");
	return 0;
}
```





åˆ¤æ–­ã€å½“å‰å¾…è¾“å‡ºå­åºåˆ—+å½“å‰ç¬¦å·ã€‘æ˜¯å¦åœ¨å­—ç¬¦ä¸²è¡¨ä¸­

```c++
å½“å‰ç¬¦å·æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼›
do{
    if(ã€å½“å‰å¾…è¾“å‡ºå­åºåˆ—+å½“å‰ç¬¦å·ã€‘åœ¨å­—ç¬¦è¡¨ä¸­)
    {
    	å½“å‰å¾…è¾“å‡ºå­åºåˆ—=å½“å‰å¾…è¾“å‡ºå­åºåˆ—+å½“å‰ç¬¦å·ï¼›
    }
else
    {
        å°†ã€å½“å‰å¾…è¾“å‡ºå­åºåˆ—+å½“å‰ç¬¦å·ã€‘åŠ å…¥å­—ç¬¦è¡¨
        è¾“å‡º ã€å½“å‰å¾…è¾“å‡ºå­åºåˆ—ã€‘
        å½“å‰å¾…è¾“å‡ºå­åºåˆ—=å½“å‰ç¬¦å·ï¼›
    }
    å½“å‰ç¬¦å·æŒ‡å‘ä¸‹ä¸€ä½ï¼›
}while(å­—ç¬¦ä¸²è¯»å–å®Œæ¯•)
    è¾“å‡ºã€å‰©ä½™å­—ç¬¦ã€‘ï¼›

```

ä¾‹å­ï¼šabab

å­—ç¬¦è¡¨çŠ¶æ€æ”¹å˜æµç¨‹

| å­—ç¬¦ä¸²           | a    | b    | a    | b    |
| ---------------- | ---- | ---- | ---- | ---- |
| å½“å‰ç¬¦å·         | ðŸ‘†    |      |      |      |
| å½“å‰å¾…è¾“å‡ºå­åºåˆ— | null |      |      |      |
| å­—ç¬¦ä¸²           | a    | b    | a    | b    |
| ---------------- | ---- | ---- | ---- | ---- |
| å½“å‰ç¬¦å·         | ðŸ‘†    |      |      |      |
| å½“å‰å¾…è¾“å‡ºå­åºåˆ— | a    |      |      |      |



| å­—ç¬¦ä¸²           | a    | b    | a    | b    |
| ---------------- | ---- | ---- | ---- | ---- |
| å½“å‰ç¬¦å·         |      | ðŸ‘†    |      |      |
| å½“å‰å¾…è¾“å‡ºå­åºåˆ— | a    |      |      |      |



| å­—ç¬¦                   | ASCIIç ï¼ˆåè¿›åˆ¶ï¼‰ |
| ---------------------- | ----------------- |
| NUL(null)              | 0                 |
| SOH(start of headline) | 1                 |
| STX (start of text)    | 2                 |
|                        | ...               |
| A                      | 65                |
| B                      | B                 |
| C                      | C                 |
|                        | ...               |
| a                      | 97                |
| b                      | 98                |
| c                      | 99                |
|                        | ...               |
|                        | 255               |








| B    | A    | B    | A    | A    | B    | A    | A    | A    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |

| å­—ç¬¦ä¸²           | B    | A    | B    | A    | A    | B    | A    | A    | A    |
| ---------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| å½“å‰å­—ç¬¦         | ðŸ‘†    |      |      |      |      |      |      |      |      |
| å½“å‰å¾…è¾“å‡ºå­åºåˆ— |      |      |      |      |      |      |      |      |      |
|                  |      |      |      |      |      |      |      |      |      |

ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨

| å­—ç¬¦                   | ASCIIç ï¼ˆåè¿›åˆ¶ï¼‰ |
| ---------------------- | ----------------- |
| NUL(null)              | 0                 |
| SOH(start of headline) | 1                 |
| STX (start of text)    | 2                 |
|                        | ...               |
| 65                     | A                 |
| 66                     | B                 |
| 67                     | C                 |
|                        | ...               |
|                        | 255               |

abcabcabcabcabcabca





